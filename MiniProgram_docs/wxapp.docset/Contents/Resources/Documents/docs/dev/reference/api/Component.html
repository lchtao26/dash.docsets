<!DOCTYPE html><html lang="cn"><head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Component(Object object) | 微信开放文档</title>
    <meta name="description" content="微信开发者平台文档"/>
    <meta name="msapplication-TileColor" content="#ffffff"/>
  <meta name="theme-color" content="#ffffff"/>
  <link rel="shortcut icon" type="image/x-icon" href="https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico"/>
  <link rel="mask-icon" color="#4C4C4C" href="https://res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg"/>
  <link rel="apple-touch-icon-precomposed" href="https://res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png"/>
    
    <link rel="preload" href="https://res.wx.qq.com/wxdoc/dist/assets/css/0.styles.4af62904.css" as="style"/><link rel="preload" href="https://res.wx.qq.com/wxdoc/dist/assets/js/app.0a33ef8d.js" as="script"/><link rel="preload" href="https://res.wx.qq.com/wxdoc/dist/assets/js/1353.06ff3b51.js" as="script"/>
    <link rel="stylesheet" href="https://res.wx.qq.com/wxdoc/dist/assets/css/0.styles.4af62904.css"/>
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="theme-container"><header class="navbar navbar_with-link"><div class="navbar__left"><a href="https://developers.weixin.qq.com/doc/" class="home-link"><div class="logo__wrp"><span class="logo__icon"></span></div></a> <span class="dot"></span> <div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">小程序</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item selected"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" class="nav-link external">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/minigame/dev/guide/" class="nav-link external">
  小游戏
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/ministore/minishopquickstart/introduction.html" class="nav-link external">
  小商店
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" class="nav-link external">
  公众号
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/aispeech/platform/INTRODUCTION.html" class="nav-link external">
  智能对话
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/oplatform/Mobile_App/Resource_Center_Homepage.html" class="nav-link external">
  开放平台
</a></li><li class="dropdown-item"><!----> <a href="https://work.weixin.qq.com/api/doc" class="nav-link external">
  企业微信
</a></li><li class="dropdown-item"><!----> <a href="https://pay.weixin.qq.com/wiki/doc/api/index.html" class="nav-link external">
  微信支付
</a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/doc/xwei/xiaowei-introduction/Introduction.html" class="nav-link external">
  腾讯小微
</a></li></ul></div></div> <div class="navbar__center"><nav class="nav-links"><div class="nav-item selected"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" class="nav-link external">
  开发
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/introduction/" class="nav-link external">
  介绍
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/design/" class="nav-link external">
  设计
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/product/" class="nav-link external">
  运营
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/analysis/" class="nav-link external">
  数据
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/community/develop/question" target="_blank" class="nav-link external">
  社区
</a></div></nav></div> <div class="navbar__right"><ul class="lang-tab"><li class="lang-tab__item selected">中文</li> <li class="lang-tab__item">EN</li></ul> <div class="search__wrp"><div class="search__input"><div class="weui-desktop-search"><span class="weui-desktop-form__input-wrp"><span class="weui-desktop-form__input-append-in"><button class="weui-desktop-icon-btn weui-desktop-search__btn"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.33 10.007l4.273 4.273a.502.502 0 0 1 .005.709l-.585.584a.499.499 0 0 1-.709-.004L10.046 11.3a6.278 6.278 0 1 1 1.284-1.294zm.012-3.729a5.063 5.063 0 1 0-10.127 0 5.063 5.063 0 0 0 10.127 0z"></path></svg></button></span> <input placeholder="搜索内容" type="search" value="" class="weui-desktop-form__input"/></span></div> <a href="javascript:;" class="search-back__btn">取消</a></div> <div class="reco-list__wrp" style="display:none;"><ul class="reco__list"></ul> <div class="show-more"><a href="https://developers.weixin.qq.com/doc/search?query=&amp;doc_type=miniprogram&amp;jumpbackUrl=%2Fdoc%2F" class="reco-item__link">查看更多 </a></div></div> <div class="reco-list__wrp" style="display:none;"><div class="show-more"><a href="https://developers.weixin.qq.com/doc/search?query=&amp;doc_type=miniprogram&amp;jumpbackUrl=%2Fdoc%2F" class="reco-item__link">在小程序下暂无结果，查看其它业务相关内容 &gt; </a></div></div></div></div></header> <div class="subnavbar"><ul class="subnavbar__list"><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_self">指南</a></li><li class="subnavbar__item selected"><a href="../index.html" target="_self" class="router-link-active">框架</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_self">组件</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/api/" target="_self">API</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/api-backend/" target="_self">服务端</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools" target="_self">工具</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started" target="_self">云开发</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/extended/" target="_self">扩展能力</a></li><li class="subnavbar__item"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/release/" target="_self">更新日志</a></li></ul></div> <div class="mobile-links__wrp"><div class="mobile-links_mobile"><a href="javascript:;" class="mobile-links__btn">开发</a></div> <div class="mobile-links__panel"><div class="links-panel__bd"><nav class="nav-links"><div class="nav-item selected"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" class="nav-link external">
  开发
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/introduction/" class="nav-link external">
  介绍
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/design/" class="nav-link external">
  设计
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/product/" class="nav-link external">
  运营
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/miniprogram/analysis/" class="nav-link external">
  数据
</a></div><div class="nav-item"><a href="https://developers.weixin.qq.com/community/develop/question" target="_blank" class="nav-link external">
  社区
</a></div></nav></div> <div class="links-panel__ft"><ul class="lang-tab"><li class="lang-tab__item selected">中文</li> <li class="lang-tab__item">EN</li></ul></div></div> <div><div class="weui-mask" style="display:none;"></div> <div class="weui-actionsheet "><!----> <div class="weui-actionsheet__menu"><div class="weui-actionsheet__cell">中文</div><div class="weui-actionsheet__cell">EN</div></div> <div class="weui-actionsheet__action"><div class="weui-actionsheet__cell">取消</div></div></div></div></div> <a href="javascript:;" class="mobile-search-btn"></a> <div class="main-container" style="margin-top:0;"><div class="main-contontaier__bd" style="min-height:0px;"><div class="sidebar__wrp"><div class="sidebar-cell_mobile"><li class="subnavbar__item selected"><a href="javascript:;" target="_self">框架</a></li></div> <aside class="sidebar" style="top:144px;"> <div class="TreeNavigation"><div class="NavigationLevel NavigationLevel--level-0"><ul><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="../configuration/app.html" class="NavigationItem__router-link">
      小程序配置
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="../configuration/app.html" class="NavigationItem__router-link">
      全局配置
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../configuration/page.html" class="NavigationItem__router-link">
      页面配置
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../configuration/sitemap.html" class="NavigationItem__router-link">
      sitemap 配置
    <!----></a> <!----> <!----></span></li></ul></div></li><li><span class="NavigationItem"><!----> <a href="../scene-list.html" class="NavigationItem__router-link">
      场景值
    <!----></a> <!----> <!----></span></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="App.html" class="NavigationItem__router-link">
      框架接口
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="App.html" class="NavigationItem__router-link">
      小程序 App
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="App.html" class="NavigationItem__router-link">
      App
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="getApp.html" class="NavigationItem__router-link">
      getApp
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="Page.html" class="NavigationItem__router-link">
      页面
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="Page.html" class="NavigationItem__router-link">
      Page
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="getCurrentPages.html" class="NavigationItem__router-link">
      getCurrentPages
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="Component.html" class="NavigationItem__router-link router-link-exact-active router-link-active">
      自定义组件
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="Component.html" class="NavigationItem__router-link router-link-exact-active router-link-active">
      Component
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="Behavior.html" class="NavigationItem__router-link">
      Behavior
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="require.html" class="NavigationItem__router-link">
      模块化
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="require.html" class="NavigationItem__router-link">
      require
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="module.html" class="NavigationItem__router-link">
      module
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="exports.html" class="NavigationItem__router-link">
      exports
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-2"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="wx.html" class="NavigationItem__router-link">
      基础功能
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-3"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="wx.html" class="NavigationItem__router-link">
      wx
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="wx.env.html" class="NavigationItem__router-link">
      wx.env
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-3"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="console.html" class="NavigationItem__router-link">
      console
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="console.debug.html" class="NavigationItem__router-link">
      console.debug
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.error.html" class="NavigationItem__router-link">
      console.error
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.group.html" class="NavigationItem__router-link">
      console.group
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.groupEnd.html" class="NavigationItem__router-link">
      console.groupEnd
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.info.html" class="NavigationItem__router-link">
      console.info
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.log.html" class="NavigationItem__router-link">
      console.log
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="console.warn.html" class="NavigationItem__router-link">
      console.warn
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-3"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="setTimeout.html" class="NavigationItem__router-link">
      定时器
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="setTimeout.html" class="NavigationItem__router-link">
      setTimeout
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="clearTimeout.html" class="NavigationItem__router-link">
      clearTimeout
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="setInterval.html" class="NavigationItem__router-link">
      setInterval
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="clearInterval.html" class="NavigationItem__router-link">
      clearInterval
    <!----></a> <!----> <!----></span></li></ul></div></li></ul></div></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="../wxml/index.html" class="NavigationItem__router-link">
      WXML 语法参考
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="../wxml/data.html" class="NavigationItem__router-link">
      数据绑定
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxml/list.html" class="NavigationItem__router-link">
      列表渲染
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxml/conditional.html" class="NavigationItem__router-link">
      条件渲染
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxml/template.html" class="NavigationItem__router-link">
      模板
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxml/import.html" class="NavigationItem__router-link">
      引用
    <!----></a> <!----> <!----></span></li></ul></div></li><li><div class="NavigationLevel NavigationLevel--closed NavigationLevel--level-1"><div class="NavigationLevel__parent"><span class="NavigationToggle NavigationToggle--closed"><span class="NavigationToggle__icon NavigationToggle__icon--closed"></span></span> <span class="NavigationItem"><!----> <a href="../wxs/index.html" class="NavigationItem__router-link">
      WXS 语法参考
    <!----></a> <!----> <!----></span></div> <ul class="NavigationLevel__children"><li><span class="NavigationItem"><!----> <a href="../wxs/01wxs-module.html" class="NavigationItem__router-link">
      模块
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/02variate.html" class="NavigationItem__router-link">
      变量
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/03annotation.html" class="NavigationItem__router-link">
      注释
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/04operator.html" class="NavigationItem__router-link">
      运算符
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/05statement.html" class="NavigationItem__router-link">
      语句
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/06datatype.html" class="NavigationItem__router-link">
      数据类型
    <!----></a> <!----> <!----></span></li><li><span class="NavigationItem"><!----> <a href="../wxs/07basiclibrary.html" class="NavigationItem__router-link">
      基础类库
    <!----></a> <!----> <!----></span></li></ul></div></li></ul></div></div> </aside></div> <div class="page__wrp"><main class="page"><div class="page-inner" style="min-height:0px;"> <div id="docContent"><div class="content custom"><h2 id="Component-Object-object"><a href="Component.html#Component-Object-object" aria-hidden="true" class="header-anchor">#</a> Component(Object object)</h2> <p>创建自定义组件，接受一个 <code>Object</code> 类型的参数。</p> <h3 id="参数"><a href="Component.html#参数" aria-hidden="true" class="header-anchor">#</a> 参数</h3> <h4 id="Object-object"><a href="Component.html#Object-object" aria-hidden="true" class="header-anchor">#</a> Object object</h4> <div class="table-wrp"><table><thead><tr><th>定义段</th> <th>类型</th> <th>是否必填</th> <th>描述</th> <th>最低版本</th></tr></thead> <tbody><tr><td>properties</td> <td>Object Map</td> <td>否</td> <td>组件的对外属性，是属性名到属性设置的映射表</td> <td></td></tr> <tr><td>data</td> <td>Object</td> <td>否</td> <td>组件的内部数据，和 <code>properties</code> 一同用于组件的模板渲染</td> <td></td></tr> <tr><td>observers</td> <td>Object</td> <td>否</td> <td>组件数据字段监听器，用于监听 properties 和 data 的变化，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html">数据监听器</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.1</a></td></tr> <tr><td>methods</td> <td>Object</td> <td>否</td> <td>组件的方法，包括事件响应函数和任意的自定义方法，关于事件响应函数的使用，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html">组件间通信与事件</a></td> <td></td></tr> <tr><td>behaviors</td> <td>String Array</td> <td>否</td> <td>类似于mixins和traits的组件间代码复用机制，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/behaviors.html">behaviors</a></td> <td></td></tr> <tr><td>created</td> <td>Function</td> <td>否</td> <td>组件生命周期函数-在组件实例刚刚被创建时执行，注意此时不能调用 <code>setData</code> )</td> <td></td></tr> <tr><td>attached</td> <td>Function</td> <td>否</td> <td>组件生命周期函数-在组件实例进入页面节点树时执行)</td> <td></td></tr> <tr><td>ready</td> <td>Function</td> <td>否</td> <td>组件生命周期函数-在组件布局完成后执行)</td> <td></td></tr> <tr><td>moved</td> <td>Function</td> <td>否</td> <td>组件生命周期函数-在组件实例被移动到节点树另一个位置时执行)</td> <td></td></tr> <tr><td>detached</td> <td>Function</td> <td>否</td> <td>组件生命周期函数-在组件实例被从页面节点树移除时执行)</td> <td></td></tr> <tr><td>relations</td> <td>Object</td> <td>否</td> <td>组件间关系定义，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/relations.html">组件间关系</a></td> <td></td></tr> <tr><td>externalClasses</td> <td>String Array</td> <td>否</td> <td>组件接受的外部样式类，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html">外部样式类</a></td> <td></td></tr> <tr><td>options</td> <td>Object Map</td> <td>否</td> <td>一些选项（文档中介绍相关特性时会涉及具体的选项设置，这里暂不列举）</td> <td></td></tr> <tr><td>lifetimes</td> <td>Object</td> <td>否</td> <td>组件生命周期声明对象，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html">组件生命周期</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a></td></tr> <tr><td>pageLifetimes</td> <td>Object</td> <td>否</td> <td>组件所在页面的生命周期声明对象，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html">组件生命周期</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a></td></tr> <tr><td>definitionFilter</td> <td>Function</td> <td>否</td> <td>定义段过滤器，用于自定义组件扩展，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/extend.html">自定义组件扩展</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a></td></tr></tbody></table></div><p>生成的组件实例可以在组件的方法、生命周期函数和属性 <code>observer</code> 中通过 <code>this</code> 访问。组件包含一些通用属性和方法。</p> <div class="table-wrp"><table><thead><tr><th>属性名</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>is</td> <td>String</td> <td>组件的文件路径</td></tr> <tr><td>id</td> <td>String</td> <td>节点id</td></tr> <tr><td>dataset</td> <td>String</td> <td>节点dataset</td></tr> <tr><td>data</td> <td>Object</td> <td>组件数据，<strong>包括内部数据和属性值</strong></td></tr> <tr><td>properties</td> <td>Object</td> <td>组件数据，<strong>包括内部数据和属性值</strong>（与 <code>data</code> 一致）</td></tr></tbody></table></div><div class="table-wrp"><table><thead><tr><th>方法名</th> <th>参数</th> <th>描述</th> <th>最低版本</th></tr></thead> <tbody><tr><td>setData</td> <td>Object <code>newData</code></td> <td>设置data并执行视图层渲染</td> <td></td></tr> <tr><td>hasBehavior</td> <td>Object <code>behavior</code></td> <td>检查组件是否具有 <code>behavior</code> （检查时会递归检查被直接或间接引入的所有behavior）</td> <td></td></tr> <tr><td>triggerEvent</td> <td>String <code>name</code>, Object <code>detail</code>, Object <code>options</code></td> <td>触发事件，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html">组件间通信与事件</a></td> <td></td></tr> <tr><td>createSelectorQuery</td> <td></td> <td>创建一个 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/SelectorQuery.html">SelectorQuery</a> 对象，选择器选取范围为这个组件实例内</td> <td></td></tr> <tr><td>createIntersectionObserver</td> <td></td> <td>创建一个 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/IntersectionObserver.html">IntersectionObserver</a> 对象，选择器选取范围为这个组件实例内</td> <td></td></tr> <tr><td>createMediaQueryObserver</td> <td></td> <td>创建一个 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/MediaQueryObserver.html">MediaQueryObserver</a> 对象</td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.1</a></td></tr> <tr><td>selectComponent</td> <td>String <code>selector</code></td> <td>使用选择器选择组件实例节点，返回匹配到的第一个组件实例对象（会被 <code>wx://component-export</code> 影响）</td> <td></td></tr> <tr><td>selectAllComponents</td> <td>String <code>selector</code></td> <td>使用选择器选择组件实例节点，返回匹配到的全部组件实例对象组成的数组（会被 <code>wx://component-export</code> 影响）</td> <td></td></tr> <tr><td>selectOwnerComponent</td> <td></td> <td>选取当前组件节点所在的组件实例（即组件的引用者），返回它的组件实例对象（会被 <code>wx://component-export</code> 影响）</td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.2</a></td></tr> <tr><td>getRelationNodes</td> <td>String <code>relationKey</code></td> <td>获取这个关系所对应的所有关联节点，参见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/relations.html">组件间关系</a></td> <td></td></tr> <tr><td>groupSetData</td> <td>Function <code>callback</code></td> <td>立刻执行 <code>callback</code> ，其中的多个 <code>setData</code> 之间不会触发界面绘制（只有某些特殊场景中需要，如用于在不同组件同时 setData 时进行界面绘制同步）</td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td></tr> <tr><td>getTabBar</td> <td></td> <td>返回当前页面的 custom-tab-bar 的组件实例，详见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/custom-tabbar.html">自定义 tabBar</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.2</a></td></tr> <tr><td>getPageId</td> <td></td> <td>返回页面标识符（一个字符串），可以用来判断几个自定义组件实例是不是在同一个页面内</td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.1</a></td></tr> <tr><td>animate</td> <td>String <code>selector</code>, Array <code>keyframes</code>, Number <code>duration</code>, Function <code>callback</code></td> <td>执行关键帧动画，详见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html">动画</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.9.0</a></td></tr> <tr><td>clearAnimation</td> <td>String <code>selector</code>, Object <code>options</code>, Function <code>callback</code></td> <td>清除关键帧动画，详见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html">动画</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.9.0</a></td></tr> <tr><td>setUpdatePerformanceListener</td> <td>Object <code>options</code>, Function <code>listener</code></td> <td>清除关键帧动画，详见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/update-perf-stat.html">动画</a></td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.0</a></td></tr></tbody></table></div><p><strong>代码示例：</strong></p> <p><a href="https://developers.weixin.qq.com/s/GqVTnvmq7g1m" title="在开发者工具中预览效果" target="_blank" rel="noopener noreferrer">在开发者工具中预览效果<span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

  behaviors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// 属性定义（详情参见下文）</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    myProperty<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 属性名</span>
      type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    myProperty2<span class="token punctuation">:</span> String <span class="token comment">// 简化的定义方式</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 私有数据，可用于模板渲染</span>

  lifetimes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 生命周期函数，可以为函数，或一个在methods段中定义的方法名</span>
    <span class="token function-variable function">attached</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">moved</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">detached</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 生命周期函数，可以为函数，或一个在methods段中定义的方法名</span>
  <span class="token function-variable function">attached</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 此处attached的声明会被lifetimes字段中的声明覆盖</span>
  <span class="token function-variable function">ready</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

  pageLifetimes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 组件所在页面的生命周期函数</span>
    <span class="token function-variable function">show</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">hide</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">resize</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onMyButtonTap</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// 更新属性和数据的方法与更新页面数据的方法类似</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 内部方法建议以下划线开头</span>
    <span class="token function-variable function">_myPrivateMethod</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 这里将 data.A[0].B 设为 &#39;myPrivateData&#39;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">&#39;A[0].B&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;myPrivateData&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">_propertyChange</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>注意：在 <code>properties</code> 定义段中，属性名采用驼峰写法（<code>propertyName</code>）；在 <code>wxml</code> 中，指定属性值时则对应使用连字符写法（<code>component-tag-name property-name=&#34;attr value&#34;</code>），应用于数据绑定时采用驼峰写法（<code>attr=&#34;&#34;</code>）。</p> <h2 id="properties-定义"><a href="Component.html#properties-定义" aria-hidden="true" class="header-anchor">#</a> properties 定义</h2> <div class="table-wrp"><table><thead><tr><th>定义段</th> <th>类型</th> <th>是否必填</th> <th>描述</th> <th>最低版本</th></tr></thead> <tbody><tr><td>type</td> <td></td> <td>是</td> <td>属性的类型</td> <td></td></tr> <tr><td>optionalTypes</td> <td>Array</td> <td>否</td> <td>属性的类型（可以指定多个）</td> <td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.5</a></td></tr> <tr><td>value</td> <td></td> <td>否</td> <td>属性的初始值</td> <td></td></tr> <tr><td>observer</td> <td>Function</td> <td>否</td> <td>属性值变化时的回调函数</td> <td></td></tr></tbody></table></div><p>属性值的改变情况可以使用 observer 来监听。目前，在新版本基础库中不推荐使用这个字段，而是使用 Component 构造器的 <code>observers</code> 字段代替，它更加强大且性能更好。</p> <p><strong>代码示例：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Component({
  properties: {
    min: {
      type: Number,
      value: 0
    },
    min: {
      type: Number,
      value: 0,
      observer: function(newVal, oldVal) {
        // 属性值变化时执行
      }
    },
    lastLeaf: {
      // 这个属性可以是 Number 、 String 、 Boolean 三种类型中的一种
      type: Number,
      optionalTypes: [String, Object],
      value: 0
    }
  }
})
</code></pre></div><p>属性的类型可以为 <code>String</code> <code>Number</code> <code>Boolean</code> <code>Object</code> <code>Array</code> 其一，也可以为 <code>null</code> 表示不限制类型。</p> <p>多数情况下，属性最好指定一个确切的类型。这样，在 WXML 中以字面量指定属性值时，值可以获得一个确切的类型，如：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-comp</span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&#34;</span>1<span class="token punctuation">&#34;</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&#34;</span>5<span class="token punctuation">&#34;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>此时，由于自定义组件的对应属性被规定为 <code>Number</code> 类型，  <code>min</code> 和 <code>max</code> 会被赋值为 <code>1</code> 和 <code>5</code> ，而非 <code>&#34;1&#34;</code> 和 <code>&#34;5&#34;</code> ，即：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>min <span class="token operator">===</span> <span class="token number">1</span> <span class="token comment">// true</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>max <span class="token operator">===</span> <span class="token number">5</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="Bug-Tips"><a href="Component.html#Bug-Tips" aria-hidden="true" class="header-anchor">#</a> Bug &amp; Tips:</h4> <ul><li>使用 <code>this.data</code> 可以获取内部数据和属性值；但直接修改它不会将变更应用到界面上，应使用 <code>setData</code> 修改。</li> <li>生命周期函数无法在组件方法中通过 <code>this</code> 访问到。</li> <li>属性名应避免以 data 开头，即不要命名成 <code>dataXyz</code> 这样的形式，因为在 WXML 中， <code>data-xyz=&#34;&#34;</code> 会被作为节点 dataset 来处理，而不是组件属性。</li> <li>在一个组件的定义和使用时，组件的属性名和 data 字段相互间都不能冲突（尽管它们位于不同的定义段中）。</li> <li>从基础库 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.9</a> 开始，对象类型的属性和 data 字段中可以包含函数类型的子字段，即可以通过对象类型的属性字段来传递函数。低于这一版本的基础库不支持这一特性。</li> <li><code>bug</code> : 位于 slot 中的自定义组件没有触发 <code>pageLifetimes</code> 中声明的页面生命周期，此问题在 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.2</a> 中修复。</li> <li><code>bug</code> : 对于 type 为 Object 或 Array 的属性，如果通过该组件自身的 this.setData 来改变属性值的一个子字段，则依旧会触发属性 observer ，且 observer 接收到的 <code>newVal</code> 是变化的那个子字段的值， <code>oldVal</code> 为空， <code>changedPath</code> 包含子字段的字段名相关信息；目前推荐使用 <code>observers</code> 定义段代替。</li></ul></div></div> <!----> <div class="content relative_ans" style="display:none;"><h2>相关回答</h2> <ul></ul> <!----></div> <footer class="page-edit"><!----></footer>  <footer class="footer"><ul class="footer-links"><li class="footer-link"><a href="http://www.tencent.com/zh-cn/index.shtml" target="_blank">关于腾讯</a></li> <li class="footer-link"><a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=1484641676" target="_blank">文档中心</a></li> <li class="footer-link"><a href="https://mp.weixin.qq.com/cgi-bin/opshowpage?action=dispelinfo&amp;lang=zh_CN&amp;begin=1&amp;count=9" target="_blank">辟谣中心</a></li> <li class="footer-link"><a href="http://kf.qq.com/faq/120911VrYVrA1509086vyumm.html" target="_blank">客服中心</a></li> <li class="footer-link"><a href="mailto:weixinmp@qq.com" target="_blank">联系邮箱</a></li></ul> <p class="copyright">Copyright &copy; 2012-<span>2020</span> Tencent. All Rights Reserved.</p></footer></div></main></div></div></div> <div id="popoverWrapId" class="pop-links__wrp popover_hide"><ul class="pop-links__list"><li class="pop-links__item"><button class="pop-link">复制</button></li> <li class="pop-links__item"><button class="pop-link">问题反馈</button></li></ul></div> <div class="fixed-btns"><a href="javascript:;" class="fixed-btn fixed-btn__feedback"><div class="fixed-btn__inner"><span class="fixed-btn__icon"></span> <span class="fixed-btn__text">反馈</span></div></a> <a href="javascript:;" class="fixed-btn fixed-btn__top" style="display:none;"><div class="fixed-btn__inner"><span class="fixed-btn__icon"></span></div></a></div></div></div></div>
    <script src="https://res.wx.qq.com/wxdoc/dist/assets/js/1353.06ff3b51.js" defer=""></script>
  

</body></html>